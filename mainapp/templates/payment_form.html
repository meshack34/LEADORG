{% extends 'base.html' %}
{% load static %}

{% block title %}Home - LEAD{% endblock %}

{% block content %}


{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEAD - Empowering Communities for Sustainable Development</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/utilities/bsb-overlay/bsb-overlay.css">
    <link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/components/services/service-8/assets/css/service-8.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="{% static 'css/newteam.css' %}">
    <link rel="icon" href="{% static 'images/leadlogo.jpeg' %}" type="image/png">

</head>
<body>

<!-- Header and Navigation -->
{% include 'header.html' %}


    <!-- Hero Section -->
    <section class="hero-section text-center">
    {% comment %} {% load bootstrap5 %} {% endcomment %}
    {% load django_bootstrap5 %}


    <div class="card shadow-sm p-4" style="width: 100%; max-width: 500px">
      <h3 class="text-center mb-4">Make Payment</h3>

      <!-- Display Error Message -->
      {% if error_message %}
      <div class="alert alert-danger" role="alert">{{ error_message }}</div>
      {% endif %}

      <!-- Display Success Message -->
      {% if success_message %}
      <div class="alert alert-success" role="alert">{{ success_message }}</div>
      {% endif %}

      <form
        method="POST"
        class="needs-validation"
        novalidate
        onsubmit="handleFormSubmit(event)"
      >
        {% csrf_token %} {% for field in form %}
        <div class="mb-3">{% bootstrap_field field %}</div>
        {% endfor %}
        <button
          type="submit"
          class="btn btn-success w-100 rounded-pill"
          id="submitButton"
        >
          <span
            id="spinner"
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
            style="display: none"
          ></span>
          <span id="buttonText">Pay</span>
        </button>
      </form>
    </div>
  </section>
    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
      function handleFormSubmit(event) {
        event.preventDefault();

        const submitButton = document.getElementById("submitButton");
        const buttonText = document.getElementById("buttonText");
        const spinner = document.getElementById("spinner");

        buttonText.textContent = "Processing...";
        spinner.style.display = "inline-block";
        submitButton.disabled = true;

        // Submit the form
        event.target.submit();
      }
    </script>
  </body>
</html>
{% endblock %}